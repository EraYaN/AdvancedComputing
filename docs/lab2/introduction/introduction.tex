%!TEX program=xelatex
%!TEX spellcheck=en_US
\documentclass[final]{report}
\input{../../.library/preamble.tex}
\input{../../.library/style.tex}
\addbibresource{../../.library/bibliography.bib}
\begin{document}
\chapter{Introduction}

The focus of this report is to inform the reader about the differences in performance between certain image processing steps when being executed on either a CPU or GPU.
The report compares the performance of each kernel separately and in some cases compares different implementations of the same kernel.
At the end of the report the general results are discussed and some recommendations regarding the GPU kernel implementations are given.

\section{Method}
In order to get reliable performance measurements a total of 10 runs have been done for each kernel.
A Python script was in control of scheduling and averaging each run on the benchmark host.
It also collected the profiling metrics and processed the output of the program.

The values in the result tables are calculated as shown in \cref{lst:table-calc-snippet}.

\includecode[python]{The code used to calculate the values in the result tables.}{resources/tableCalcSnippet.py}{lst:table-calc-snippet}

The images that the kernels will be benchmarked for are listed in \cref{tab:image-information}.

\begin{table}[H]
	\centering
	\caption{Benchmark images information}
	\label{tab:image-information}
	\begin{tabular}{llll}
		\toprule
			\textbf{Name} &\textbf{Width (pixels)} & \textbf{Height (pixels)} & \textbf{Amount (pixels)}\\
		\midrule
			Image04 & 1200				& 1398				& 1677600 \\
			Image09 & 8192 				& 8192 				& 67108864 \\
			Image15 & 3030 				& 2360 				& 7150800\\
		\bottomrule
	\end{tabular}
\end{table}

%\section{Hardware/Software and Compiler Options}
%TODO[Erwin]: A short specs list and the compiler options used
%TODO[E] Do we really need this? We have no Machine B now.
% For repeatability purposes a list of the used hardware and software is included in \cref{tab:hardware-software}.

% \begin{table}[H]
% \centering
% \caption{Command layout}
% \label{tab:hardware-software}
% \begin{tabular}{lp{9cm}}
% \toprule
% \textbf{Item} & \textbf{Description} \\
% \midrule
% \textit{CPU} & Intel i7-3770K (306A9 Family: 6, Model: 58, Stepping: 9) @ 4.0Ghz\\
% \textit{RAM} & 4x8GB Crucial DDR3-1600 1600Mhz XMP1.3\\
% \textit{GPU} & NVIDIA GeForce GTX 960 (GM206 A1)\\
% \textit{GPU Driver} & GeForce Game Ready Driver 372.90\\
% \textit{OS} & Windows 10 64-bit Version 10.0.14393 Build 14393\\
% \textit{Compiler} & Visual C++ 2015; Microsoft Visual Studio Enterprise 2015 Version 14.0.25431.01 Update 3\\
% \textit{OpenCL/CUDA SDK} & CUDA Toolkit 8.0 RC\\
% \bottomrule
% \end{tabular}
% \end{table}

\end{document}